# User manual

## Getting started

// XXX rewrite this

Zeo VR is a persistent multiplayer virtual world server. [There are setup instructions](#setting-up-a-server).

If you want to try a crippled version of the tech solo, open [the tutorial in the Hub](https://hub.zeovr.io). There are a few preloaded modules for you to play with, though you're missing the best part.

#### Test it out: Singleplayer

```javascript
https://hub.zeovr.io
```

If you just want to try the multiplayer persistent worlds, either ask for a public server key on Twitter ([@modulesio](https://twitter.com/modulesio)), or run your own server (recommended). [Setup instructions are here](#setting-up-a-server).

#### Test it out: Multiplayer

```javascript
Ask for a key on Twitter:
https://twitter.com/@modulesio

...or, run your own server!
```

## Setting up a server

Here's how to set up Zeo VR on a bare server.

### Step 1: Get Linux

Get yourself a Linux machine.

It can be raw Linux or a virtual machine, but it needs to be Linux. It doesn't matter which distribution.

### Step 2: Get node.js

[Install node.js](https://nodejs.org/en/download/), version `7+`.

You have many options here: install the binaries, use your distribution's package manager, or use [`nvm`](https://github.com/creationix/nvm) (recommended).

### Step 3: Install dependencies

Zeo VR requires some native modules to be built for server-side physics, audio/video processing, and such. These should be built automatically when you `npm install zeo`, but for that to work you'll need a compiler, build system, and a few libraries on your system.

These are:

- `build-essential`
- `cmake`
- `python`
- `ffmpeg`
- `libcairo2-dev`

You'll find these in your package manager of choice.

#### Install dependencies (Debian/Ubuntu)

```javascript
sudo apt-get install build-essential cmake python ffmpeg libcairo2-dev
```

### Step 4: Npm install

This one is fairly straightforward. Just make sure there are no build errors.

#### Install zeo module

```javascript
npm install zeo
```

### Step 5: Start server

If everything worked, you should be able to start your server now. The first run will need to generate some stuff like SSL certificates, signing keys, and a server identity (procedurally generated icons and skyboxes), so it might take a minute.

Once everything's up and running, you'll get a URL and access token you can use to connect to your server from your browser.

Note that since you're using a self-signed SSL certificate, your browser will complain that the connection is insecure. The fix is to use your own SSL certificate (see below).

#### Start zeo module

```javascript
./scripts/start.sh
```

#### After a while you should see

```javascript
https://local.zeovr.io:8000?t=ZU1TVgYyUAlDCnJgDVNDRHlrCmhAGDvCgHRhexoD
```

### Step 6: Hosts file (optional)

Since you're running a server on your own domain (`local.zeovr.io`) and you (probably) don't own that domain, you'll need to teach your computer how to reach it.

That is, you'll need to add a line to your [hosts file](https://en.wikipedia.org/wiki/Hosts_(file)).

Once you've done that, you should be able to connect to your server by opening the URL from the previous step in your browser.

```javascript
# /etc/hosts
127.0.0.1 local.zeovr.io
```

### Step 7: TLS certificate (optional)

Zeo VR uses HTTP/2 and this requires using TLS and a TLS certificate. By default the server will generate a self-signed certificate for a fake domain on which to run your server (`local.zeovr.io`).

However, this will cause browsers to complain, it's totally insecure, and will impact load performance due to browser's lack of caching for insecure responses.

The good news is that if you have a domain, you can fix this with a [free TLS certificate from Let's Encrypt](https://certbot.eff.org/). If you don't have a domain, you'll need to either get one or accept these issues.

Once you have a certificate, just drop it into the `crypto/cert` directory and restart your sever. You can overwrite the autogenerated self-signed certificate files there.

#### Place your TLS certificate here

```javascript
./crypto/cert/cert.pem
./crypto/cert/private.pem
```

## Getting help

If you think you've found a bug or you just can't figure it out, [file an issue on Github](https://github.com/modulesio/zeo/issues), or [reach out on Twitter (@modulesio)](https://twitter.com/modulesio)!

## Reference

### Key bindings

Zeo VR works best with a headset, but here are the mouse + keyboard key bindings in case you missed them in the Hub tutorial:

- **WASD** Move around
- **Z or C** Focus left or right controller (_required_ to use the buttons below)
- **Click** Trigger
- **E** Menu
- **F** Grip
- **Q** Touchpad
- **Mousewheel** Move controller x/y axis
- **Ctrl + Mousewheel** Move controller x/z axis
- **Shift + Mousewheel** Rotate controller

### Data directories

XXX
