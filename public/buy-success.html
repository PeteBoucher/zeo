<!DOCTYPE html>
<html>
<head>
  <title>Purchase successful - Zeo</title>
  <link href="/css/style.css" rel=stylesheet>
  <link href="/css/header.css" rel=stylesheet>
  <link href="/css/github-markdown.css" rel=stylesheet>
</head>
<body>
  <!-- header.html -->
  <script>
window.$ = s => document.querySelectorAll(s);

$('navbar > a').forEach(el => {
  el.classList.remove('selected');
});
  </script>
  <div class=content>
    <div class=buy-body>
      <h1>Purchase successful!</h1>
      <pre id=output></pre>
      <div class=row>
        <a class=button id=cancel-button>Back</a>
      </div>
    </div>
    <footer class=footer>
      <div class="footer-wrap full">
        <div class=footer-left><a href="/" class="link soft">Home</a> | <a href="https://github.com/modulesio/zeo" class="link soft">Github</a> | <a href="mailto:hello@zeovr.io" class="link soft">Contact</a></div>
        <div class=footer-right>&copy; 2017 <a href="mailto:a@zeovr.io">Zeo VR</a></div>
      </div>
    </footer>
  </div>
  <script src="/js/lib/creaturejs.js"></script>
  <script>
const _update = () => {
  const match = window.location.pathname.match(/(?:\?([\s\S]+))?$/);
  const queryString = match[1] || '';
  const query = parseQueryString(queryString);
  const {txid} = query;

  $('#output')[0].innerText = JSON.stringify({
    txid,
  }, null, 2);

  const cancelButton = $('#cancel-button')[0];

  cancelButton.addEventListener('click', () => {
    window.history.back();
  });
};
_update();

function parseQueryString(s) {
  const result = {};
  const query = window.location.search.substring(1);
  const vars = query.split('&');
  for (let i = 0; i < vars.length; i++) {
    const pair = vars[i].split('=');
    result[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
  }
  return result;
}
  </script>
</body>
</html/>
